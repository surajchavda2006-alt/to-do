<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TaskMaster - Your Ultimate To-Do Manager</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --success-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --dark-gradient: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .navbar {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
            border-bottom: 1px solid rgba(255, 255, 255, 0.3);
        }

        .navbar-brand {
            font-weight: bold;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .page-container {
            display: none;
            min-height: calc(100vh - 76px);
            padding-top: 2rem;
        }

        .page-container.active {
            display: block;
            animation: fadeIn 0.3s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .hero-section {
            text-align: center;
            color: white;
            padding: 4rem 0;
        }

        .hero-title {
            font-size: 3.5rem;
            font-weight: bold;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .hero-subtitle {
            font-size: 1.2rem;
            margin-bottom: 2rem;
            opacity: 0.9;
        }

        .feature-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .feature-icon {
            font-size: 3rem;
            color: white;
            margin-bottom: 1rem;
        }

        .btn-gradient {
            background: var(--secondary-gradient);
            border: none;
            color: white;
            font-weight: 500;
            padding: 0.75rem 2rem;
            border-radius: 50px;
            transition: all 0.3s ease;
        }

        .btn-gradient:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            color: white;
        }

        .todo-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }

        .todo-input {
            border: 2px solid #e9ecef;
            border-radius: 15px;
            padding: 1rem;
            font-size: 1.1rem;
            transition: all 0.3s ease;
        }

        .todo-input:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.25);
        }

        .todo-item {
            background: white;
            border-radius: 10px;
            padding: 1rem;
            margin-bottom: 0.5rem;
            border-left: 4px solid #667eea;
            transition: all 0.3s ease;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .todo-item:hover {
            transform: translateX(5px);
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .todo-item.completed {
            opacity: 0.6;
            text-decoration: line-through;
            border-left-color: #28a745;
        }

        .priority-high {
            border-left-color: #dc3545;
        }

        .priority-medium {
            border-left-color: #ffc107;
        }

        .priority-low {
            border-left-color: #28a745;
        }

        .stats-card {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .stats-card:hover {
            transform: translateY(-5px);
        }

        .stats-number {
            font-size: 2.5rem;
            font-weight: bold;
            color: #667eea;
        }

        .category-badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            background: var(--primary-gradient);
            color: white;
            border-radius: 50px;
            font-size: 0.8rem;
            margin-right: 0.5rem;
        }

        .footer {
            background: rgba(0, 0, 0, 0.8);
            color: white;
            text-align: center;
            padding: 2rem 0;
            margin-top: 4rem;
        }

        .contact-form {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }

        .progress-ring {
            width: 120px;
            height: 120px;
            margin: 0 auto;
        }

        .progress-ring circle {
            fill: none;
            stroke-width: 8;
            stroke-linecap: round;
            transform: rotate(-90deg);
            transform-origin: 50% 50%;
            transition: stroke-dasharray 0.5s ease;
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 1px;
            background: #e9ecef;
            border-radius: 10px;
            overflow: hidden;
        }

        .calendar-day {
            background: white;
            padding: 1rem;
            text-align: center;
            min-height: 80px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transition: all 0.3s ease;
        }

        .calendar-day:hover {
            background: #f8f9fa;
        }

        .calendar-day.has-tasks {
            background: #e3f2fd;
            border: 2px solid #2196f3;
        }

        .task-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #667eea;
            margin: 2px;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top">
        <div class="container">
            <a class="navbar-brand" href="#" onclick="showPage('home')">
                <i class="fas fa-tasks"></i> TaskMaster
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="showPage('home')">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="showPage('tasks')">My Tasks</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="showPage('calendar')">Calendar</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="showPage('analytics')">Analytics</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="showPage('about')">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="showPage('contact')">Contact</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Home Page -->
    <div id="home" class="page-container active">
        <div class="hero-section">
            <div class="container">
                <h1 class="hero-title">TaskMaster</h1>
                <p class="hero-subtitle">Organize your life, boost productivity, achieve your goals</p>
                <button class="btn btn-gradient btn-lg" onclick="showPage('tasks')">
                    Get Started <i class="fas fa-arrow-right ms-2"></i>
                </button>
            </div>
        </div>

        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <div class="feature-card text-center text-white">
                        <i class="fas fa-list-check feature-icon"></i>
                        <h4>Smart Organization</h4>
                        <p>Organize tasks by priority, category, and due dates with our intelligent system.</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="feature-card text-center text-white">
                        <i class="fas fa-chart-line feature-icon"></i>
                        <h4>Progress Tracking</h4>
                        <p>Monitor your productivity with detailed analytics and progress visualization.</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="feature-card text-center text-white">
                        <i class="fas fa-calendar-alt feature-icon"></i>
                        <h4>Calendar Integration</h4>
                        <p>View all your tasks in a beautiful calendar interface with deadline tracking.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Tasks Page -->
    <div id="tasks" class="page-container">
        <div class="container">
            <div class="todo-container">
                <h2 class="text-center mb-4"><i class="fas fa-tasks text-primary"></i> My Tasks</h2>
                
                <div class="row mb-4">
                    <div class="col-md-8">
                        <input type="text" id="taskInput" class="form-control todo-input" placeholder="What needs to be done?">
                    </div>
                    <div class="col-md-2">
                        <select id="prioritySelect" class="form-select">
                            <option value="low">Low Priority</option>
                            <option value="medium">Medium Priority</option>
                            <option value="high">High Priority</option>
                        </select>
                    </div>
                    <div class="col-md-2">
                        <button class="btn btn-gradient w-100" onclick="addTask()">
                            <i class="fas fa-plus"></i> Add
                        </button>
                    </div>
                </div>

                <div class="row mb-3">
                    <div class="col-md-4">
                        <input type="text" id="categoryInput" class="form-control" placeholder="Category (optional)">
                    </div>
                    <div class="col-md-4">
                        <input type="date" id="dueDateInput" class="form-control">
                    </div>
                    <div class="col-md-4">
                        <select id="filterSelect" class="form-select" onchange="filterTasks()">
                            <option value="all">All Tasks</option>
                            <option value="active">Active</option>
                            <option value="completed">Completed</option>
                            <option value="high">High Priority</option>
                            <option value="medium">Medium Priority</option>
                            <option value="low">Low Priority</option>
                        </select>
                    </div>
                </div>

                <div id="tasksList"></div>

                <div class="text-center mt-4">
                    <button class="btn btn-outline-danger" onclick="clearCompleted()">
                        <i class="fas fa-trash"></i> Clear Completed
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Calendar Page -->
    <div id="calendar" class="page-container">
        <div class="container">
            <div class="todo-container">
                <h2 class="text-center mb-4"><i class="fas fa-calendar-alt text-primary"></i> Task Calendar</h2>
                
                <div class="row mb-4">
                    <div class="col-md-6">
                        <button class="btn btn-outline-primary" onclick="changeMonth(-1)">
                            <i class="fas fa-chevron-left"></i> Previous
                        </button>
                    </div>
                    <div class="col-md-6 text-end">
                        <button class="btn btn-outline-primary" onclick="changeMonth(1)">
                            Next <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>

                <h3 id="currentMonth" class="text-center mb-4"></h3>

                <div class="calendar-grid" id="calendarGrid">
                    <!-- Calendar will be generated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Analytics Page -->
    <div id="analytics" class="page-container">
        <div class="container">
            <h2 class="text-center mb-4 text-white"><i class="fas fa-chart-line"></i> Analytics Dashboard</h2>
            
            <div class="row mb-4">
                <div class="col-md-3">
                    <div class="stats-card">
                        <div class="stats-number" id="totalTasks">0</div>
                        <div>Total Tasks</div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="stats-card">
                        <div class="stats-number text-success" id="completedTasks">0</div>
                        <div>Completed</div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="stats-card">
                        <div class="stats-number text-warning" id="pendingTasks">0</div>
                        <div>Pending</div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="stats-card">
                        <div class="stats-number text-info" id="completionRate">0%</div>
                        <div>Completion Rate</div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6">
                    <div class="todo-container">
                        <h4 class="text-center mb-3">Progress Overview</h4>
                        <div class="text-center">
                            <svg class="progress-ring" viewBox="0 0 120 120">
                                <circle cx="60" cy="60" r="50" stroke="#e9ecef" stroke-width="8" fill="none"></circle>
                                <circle id="progressCircle" cx="60" cy="60" r="50" stroke="#667eea" stroke-width="8" fill="none" stroke-dasharray="0 314"></circle>
                            </svg>
                            <div class="mt-3">
                                <h5 id="progressText">0% Complete</h5>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="todo-container">
                        <h4 class="text-center mb-3">Priority Breakdown</h4>
                        <div id="priorityBreakdown">
                            <div class="d-flex justify-content-between align-items-center mb-2">
                                <span><i class="fas fa-circle text-danger"></i> High Priority</span>
                                <span id="highPriorityCount">0</span>
                            </div>
                            <div class="d-flex justify-content-between align-items-center mb-2">
                                <span><i class="fas fa-circle text-warning"></i> Medium Priority</span>
                                <span id="mediumPriorityCount">0</span>
                            </div>
                            <div class="d-flex justify-content-between align-items-center mb-2">
                                <span><i class="fas fa-circle text-success"></i> Low Priority</span>
                                <span id="lowPriorityCount">0</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- About Page -->
    <div id="about" class="page-container">
        <div class="container">
            <div class="todo-container">
                <h2 class="text-center mb-4"><i class="fas fa-info-circle text-primary"></i> About TaskMaster</h2>
                
                <div class="row">
                    <div class="col-md-8 mx-auto">
                        <div class="text-center mb-4">
                            <i class="fas fa-tasks" style="font-size: 4rem; color: #667eea;"></i>
                        </div>
                        
                        <p class="lead text-center">TaskMaster is a powerful, intuitive task management application designed to help you organize your life and boost productivity.</p>
                        
                        <h4>Key Features</h4>
                        <ul class="list-unstyled">
                            <li class="mb-2"><i class="fas fa-check text-success me-2"></i> Create and manage tasks with priorities</li>
                            <li class="mb-2"><i class="fas fa-check text-success me-2"></i> Organize tasks by categories</li>
                            <li class="mb-2"><i class="fas fa-check text-success me-2"></i> Set due dates and track deadlines</li>
                            <li class="mb-2"><i class="fas fa-check text-success me-2"></i> Visual calendar integration</li>
                            <li class="mb-2"><i class="fas fa-check text-success me-2"></i> Detailed analytics and progress tracking</li>
                            <li class="mb-2"><i class="fas fa-check text-success me-2"></i> Responsive design for all devices</li>
                        </ul>
                        
                        <h4>Our Mission</h4>
                        <p>We believe that everyone deserves the tools to organize their life effectively. TaskMaster combines simplicity with powerful features to help you achieve your goals and maintain a healthy work-life balance.</p>
                        
                        <h4>Technology</h4>
                        <p>Built with modern web technologies including HTML5, CSS3, JavaScript, and Bootstrap 5, TaskMaster provides a fast, reliable, and beautiful user experience across all devices.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Contact Page -->
    <div id="contact" class="page-container">
        <div class="container">
            <div class="todo-container">
                <h2 class="text-center mb-4"><i class="fas fa-envelope text-primary"></i> Contact Us</h2>
                
                <div class="row">
                    <div class="col-md-8 mx-auto">
                        <div class="contact-form">
                            <form onsubmit="submitContactForm(event)">
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">First Name</label>
                                        <input type="text" class="form-control" required>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">Last Name</label>
                                        <input type="text" class="form-control" required>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Email</label>
                                    <input type="email" class="form-control" required>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Subject</label>
                                    <input type="text" class="form-control" required>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Message</label>
                                    <textarea class="form-control" rows="5" required></textarea>
                                </div>
                                <div class="text-center">
                                    <button type="submit" class="btn btn-gradient">
                                        <i class="fas fa-paper-plane me-2"></i>Send Message
                                    </button>
                                </div>
                            </form>
                        </div>
                        
                        <div class="row mt-5">
                            <div class="col-md-4 text-center">
                                <i class="fas fa-map-marker-alt text-primary" style="font-size: 2rem;"></i>
                                <h5 class="mt-3">Address</h5>
                                <p>123 Productivity Lane<br>Task City, TC 12345</p>
                            </div>
                            <div class="col-md-4 text-center">
                                <i class="fas fa-phone text-primary" style="font-size: 2rem;"></i>
                                <h5 class="mt-3">Phone</h5>
                                <p>+1 (555) 123-4567</p>
                            </div>
                            <div class="col-md-4 text-center">
                                <i class="fas fa-envelope text-primary" style="font-size: 2rem;"></i>
                                <h5 class="mt-3">Email</h5>
                                <p>hello@taskmaster.com</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 TaskMaster. Built with ‚ù§Ô∏è for productivity enthusiasts.</p>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <script>
        // Global variables
        let tasks = [];
        let currentDate = new Date();
        let currentFilter = 'all';

        // Page navigation
        function showPage(pageId) {
            // Hide all pages
            const pages = document.querySelectorAll('.page-container');
            pages.forEach(page => {
                page.classList.remove('active');
            });
            
            // Show selected page
            document.getElementById(pageId).classList.add('active');
            
            // Update navigation
            const navLinks = document.querySelectorAll('.nav-link');
            navLinks.forEach(link => {
                link.classList.remove('active');
            });
            
            // Special handling for different pages
            if (pageId === 'calendar') {
                generateCalendar();
            } else if (pageId === 'analytics') {
                updateAnalytics();
            }
        }

        // Task management functions
        function addTask() {
            const taskInput = document.getElementById('taskInput');
            const prioritySelect = document.getElementById('prioritySelect');
            const categoryInput = document.getElementById('categoryInput');
            const dueDateInput = document.getElementById('dueDateInput');
            
            if (taskInput.value.trim() === '') {
                alert('Please enter a task!');
                return;
            }
            
            const task = {
                id: Date.now(),
                text: taskInput.value.trim(),
                priority: prioritySelect.value,
                category: categoryInput.value.trim() || 'General',
                dueDate: dueDateInput.value,
                completed: false,
                createdAt: new Date().toISOString()
            };
            
            tasks.push(task);
            saveTasks();
            renderTasks();
            
            // Clear inputs
            taskInput.value = '';
            categoryInput.value = '';
            dueDateInput.value = '';
            
            updateAnalytics();
        }

        function toggleTask(id) {
            const task = tasks.find(t => t.id === id);
            if (task) {
                task.completed = !task.completed;
                saveTasks();
                renderTasks();
                updateAnalytics();
            }
        }

        function deleteTask(id) {
            if (confirm('Are you sure you want to delete this task?')) {
                tasks = tasks.filter(t => t.id !== id);
                saveTasks();
                renderTasks();
                updateAnalytics();
            }
        }

        function editTask(id) {
            const task = tasks.find(t => t.id === id);
            if (task) {
                const newText = prompt('Edit task:', task.text);
                if (newText !== null && newText.trim() !== '') {
                    task.text = newText.trim();
                    saveTasks();
                    renderTasks();
                }
            }
        }

        function filterTasks() {
            const filterSelect = document.getElementById('filterSelect');
            currentFilter = filterSelect.value;
            renderTasks();
        }

        function clearCompleted() {
            if (confirm('Are you sure you want to delete all completed tasks?')) {
                tasks = tasks.filter(t => !t.completed);
                saveTasks();
                renderTasks();
                updateAnalytics();
            }
        }

        function renderTasks() {
            const tasksList = document.getElementById('tasksList');
            let filteredTasks = tasks;
            
            // Apply filter
            switch (currentFilter) {
                case 'active':
                    filteredTasks = tasks.filter(t => !t.completed);
                    break;
                case 'completed':
                    filteredTasks = tasks.filter(t => t.completed);
                    break;
                case 'high':
                case 'medium':
                case 'low':
                    filteredTasks = tasks.filter(t => t.priority === currentFilter);
                    break;
            }
            
            if (filteredTasks.length === 0) {
                tasksList.innerHTML = '<div class="text-center text-muted py-4"><i class="fas fa-inbox fa-3x mb-3"></i><br>No tasks found</div>';
                return;
            }
            
            tasksList.innerHTML = filteredTasks.map(task => `
                <div class="todo-item ${task.completed ? 'completed' : ''} priority-${task.priority}">
                    <div class="d-flex align-items-center">
                        <input type="checkbox" class="form-check-input me-3" ${task.completed ? 'checked' : ''} 
                               onchange="toggleTask(${task.id})">
                        <div class="flex-grow-1">
                            <div class="fw-bold">${task.text}</div>
                            <small class="text-muted">
                                <span class="category-badge">${task.category}</span>
                                ${task.dueDate ? `Due: ${new Date(task.dueDate).toLocaleDateString()}` : ''}
                            </small>
                        </div>
                    </div>
                    <div class="btn-group">
                        <button class="btn btn-sm btn-outline-primary" onclick="editTask(${task.id})" title="Edit">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-danger" onclick="deleteTask(${task.id})" title="Delete">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
            `).join('');
        }

        // Calendar functions
        function generateCalendar() {
            const calendarGrid = document.getElementById('calendarGrid');
            const currentMonth = document.getElementById('currentMonth');
            
            const year = currentDate.getFullYear();
            const month = currentDate.getMonth();
            
            currentMonth.textContent = currentDate.toLocaleDateString('en-US', { 
                month: 'long', 
                year: 'numeric' 
            });
            
            const firstDay = new Date(year, month, 1).getDay();
            const daysInMonth = new Date(year, month + 1, 0).getDate();
            
            let calendarHTML = '';
            
            // Days of week headers
            const dayNames = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            dayNames.forEach(day => {
                calendarHTML += `<div class="calendar-day fw-bold text-primary">${day}</div>`;
            });
            
            // Empty cells for days before month starts
            for (let i = 0; i < firstDay; i++) {
                calendarHTML += '<div class="calendar-day"></div>';
            }
            
            // Days of the month
            for (let day = 1; day <= daysInMonth; day++) {
                const dateStr = `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                const tasksForDay = tasks.filter(task => task.dueDate === dateStr);
                const hasTasksClass = tasksForDay.length > 0 ? 'has-tasks' : '';
                
                calendarHTML += `
                    <div class="calendar-day ${hasTasksClass}">
                        <div class="fw-bold">${day}</div>
                        ${tasksForDay.slice(0, 3).map(task => 
                            `<div class="task-dot" title="${task.text}"></div>`
                        ).join('')}
                        ${tasksForDay.length > 3 ? `<small>+${tasksForDay.length - 3} more</small>` : ''}
                    </div>
                `;
            }
            
            calendarGrid.innerHTML = calendarHTML;
        }

        function changeMonth(direction) {
            currentDate.setMonth(currentDate.getMonth() + direction);
            generateCalendar();
        }

        // Analytics functions
        function updateAnalytics() {
            const totalTasks = tasks.length;
            const completedTasks = tasks.filter(t => t.completed).length;
            const pendingTasks = totalTasks - completedTasks;
            const completionRate = totalTasks > 0 ? Math.round((completedTasks / totalTasks) * 100) : 0;
            
            document.getElementById('totalTasks').textContent = totalTasks;
            document.getElementById('completedTasks').textContent = completedTasks;
            document.getElementById('pendingTasks').textContent = pendingTasks;
            document.getElementById('completionRate').textContent = completionRate + '%';
            
            // Update progress circle
            const progressCircle = document.getElementById('progressCircle');
            const progressText = document.getElementById('progressText');
            const circumference = 2 * Math.PI * 50;
            const progress = (completionRate / 100) * circumference;
            
            progressCircle.style.strokeDasharray = `${progress} ${circumference}`;
            progressText.textContent = `${completionRate}% Complete`;
            
            // Update priority breakdown
            const highPriority = tasks.filter(t => t.priority === 'high').length;
            const mediumPriority = tasks.filter(t => t.priority === 'medium').length;
            const lowPriority = tasks.filter(t => t.priority === 'low').length;
            
            document.getElementById('highPriorityCount').textContent = highPriority;
            document.getElementById('mediumPriorityCount').textContent = mediumPriority;
            document.getElementById('lowPriorityCount').textContent = lowPriority;
        }

        // Contact form
        function submitContactForm(event) {
            event.preventDefault();
            alert('Thank you for your message! We\'ll get back to you soon.');
            event.target.reset();
        }

        // Local storage functions
        function saveTasks() {
            const tasksData = JSON.stringify(tasks);
            // Store in memory instead of localStorage (not supported in artifacts)
            window.tasksData = tasksData;
        }

        function loadTasks() {
            try {
                // Load from memory instead of localStorage
                if (window.tasksData) {
                    tasks = JSON.parse(window.tasksData);
                } else {
                    // Demo data
                    tasks = [
                        {
                            id: 1,
                            text: 'Welcome to TaskMaster!',
                            priority: 'high',
                            category: 'Getting Started',
                            dueDate: new Date().toISOString().split('T')[0],
                            completed: false,
                            createdAt: new Date().toISOString()
                        },
                        {
                            id: 2,
                            text: 'Create your first task',
                            priority: 'medium',
                            category: 'Tutorial',
                            dueDate: '',
                            completed: false,
                            createdAt: new Date().toISOString()
                        },
                        {
                            id: 3,
                            text: 'Explore the calendar view',
                            priority: 'low',
                            category: 'Tutorial',
                            dueDate: '',
                            completed: true,
                            createdAt: new Date().toISOString()
                        }
                    ];
                }
            } catch (error) {
                console.error('Error loading tasks:', error);
                tasks = [];
            }
        }

        // Keyboard shortcuts
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Enter' && event.target.id === 'taskInput') {
                addTask();
            }
        });

        // Theme toggle (bonus feature)
        function toggleTheme() {
            document.body.classList.toggle('dark-theme');
        }

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            loadTasks();
            renderTasks();
            updateAnalytics();
            generateCalendar();
            
            // Set today's date as default for due date input
            document.getElementById('dueDateInput').valueAsDate = new Date();
        });

        // Responsive navigation
        document.addEventListener('click', function(event) {
            const navbarToggler = document.querySelector('.navbar-toggler');
            const navbarCollapse = document.querySelector('.navbar-collapse');
            
            if (event.target.classList.contains('nav-link')) {
                navbarCollapse.classList.remove('show');
            }
        });

        // Add some animation effects
        function addTaskAnimation() {
            const tasksList = document.getElementById('tasksList');
            const newTask = tasksList.lastElementChild;
            if (newTask) {
                newTask.style.opacity = '0';
                newTask.style.transform = 'translateY(-20px)';
                setTimeout(() => {
                    newTask.style.transition = 'all 0.3s ease';
                    newTask.style.opacity = '1';
                    newTask.style.transform = 'translateY(0)';
                }, 10);
            }
        }

        // Enhanced task addition with animation
        const originalAddTask = addTask;
        addTask = function() {
            originalAddTask();
            setTimeout(addTaskAnimation, 100);
        };

        // Search functionality
        function searchTasks(query) {
            const searchResults = tasks.filter(task => 
                task.text.toLowerCase().includes(query.toLowerCase()) ||
                task.category.toLowerCase().includes(query.toLowerCase())
            );
            
            const tasksList = document.getElementById('tasksList');
            if (searchResults.length === 0) {
                tasksList.innerHTML = '<div class="text-center text-muted py-4"><i class="fas fa-search fa-3x mb-3"></i><br>No tasks found matching your search</div>';
            } else {
                // Render search results (similar to renderTasks but with search results)
                renderSearchResults(searchResults);
            }
        }

        function renderSearchResults(searchResults) {
            const tasksList = document.getElementById('tasksList');
            tasksList.innerHTML = searchResults.map(task => `
                <div class="todo-item ${task.completed ? 'completed' : ''} priority-${task.priority}">
                    <div class="d-flex align-items-center">
                        <input type="checkbox" class="form-check-input me-3" ${task.completed ? 'checked' : ''} 
                               onchange="toggleTask(${task.id})">
                        <div class="flex-grow-1">
                            <div class="fw-bold">${task.text}</div>
                            <small class="text-muted">
                                <span class="category-badge">${task.category}</span>
                                ${task.dueDate ? `Due: ${new Date(task.dueDate).toLocaleDateString()}` : ''}
                            </small>
                        </div>
                    </div>
                    <div class="btn-group">
                        <button class="btn btn-sm btn-outline-primary" onclick="editTask(${task.id})" title="Edit">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-danger" onclick="deleteTask(${task.id})" title="Delete">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
            `).join('');
        }

        // Export/Import functionality (using download/upload)
        function exportTasks() {
            const dataStr = JSON.stringify(tasks, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'taskmaster-backup.json';
            link.click();
            URL.revokeObjectURL(url);
        }

        function importTasks(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    try {
                        const importedTasks = JSON.parse(e.target.result);
                        if (Array.isArray(importedTasks)) {
                            tasks = importedTasks;
                            saveTasks();
                            renderTasks();
                            updateAnalytics();
                            alert('Tasks imported successfully!');
                        } else {
                            alert('Invalid file format!');
                        }
                    } catch (error) {
                        alert('Error importing tasks!');
                    }
                };
                reader.readAsText(file);
            }
        }

        // Add notification functionality
        function showNotification(message, type = 'success') {
            const notification = document.createElement('div');
            notification.className = `alert alert-${type} position-fixed`;
            notification.style.cssText = 'top: 100px; right: 20px; z-index: 1050; min-width: 300px;';
            notification.innerHTML = `
                <button type="button" class="btn-close" onclick="this.parentElement.remove()"></button>
                ${message}
            `;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                if (notification.parentElement) {
                    notification.remove();
                }
            }, 5000);
        }

        // Enhanced task operations with notifications
        const originalToggleTask = toggleTask;
        toggleTask = function(id) {
            const task = tasks.find(t => t.id === id);
            const wasCompleted = task.completed;
            originalToggleTask(id);
            
            if (!wasCompleted && task.completed) {
                showNotification('Task completed! üéâ', 'success');
            } else if (wasCompleted && !task.completed) {
                showNotification('Task marked as pending', 'info');
            }
        };

        // Add productivity tips
        const productivityTips = [
            "Break large tasks into smaller, manageable chunks",
            "Set specific deadlines to stay motivated",
            "Use the Pomodoro Technique: 25 minutes work, 5 minutes break",
            "Prioritize your most important tasks first",
            "Review your tasks daily to stay on track",
            "Celebrate small wins to maintain motivation",
            "Eliminate distractions when working on important tasks",
            "Use categories to organize related tasks together"
        ];

        function showRandomTip() {
            const tip = productivityTips[Math.floor(Math.random() * productivityTips.length)];
            showNotification(`üí° Tip: ${tip}`, 'info');
        }

        // Show a tip every 5 minutes (300000 ms)
        setInterval(showRandomTip, 300000);
    </script>
</body>
</html>